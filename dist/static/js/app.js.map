{"version":3,"sources":["webpack:///./src/http/api.js","webpack:///./src/http/config.js","webpack:///./src/store/mutation-types.js","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?cda2","webpack:///src/App.vue","webpack:///./src/config.js","webpack:///./src/store/index.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/common/js/tips.js"],"names":["host","config","appKey","appid","get","params","fly","url","qs","stringify","data","post","login","Fly","require","timeout","baseURL","interceptors","request","use","headers","response","err","SET_OPEN_ID","Vue","productionTip","App","mpType","prototype","$store","$tips","app","$mount","pages","window","backgroundTextStyle","navigationBarBackgroundColor","navigationBarTitleText","navigationBarTextStyle","tabBar","selectedColor","list","pagePath","text","iconPath","selectedIconPath","Vuex","Store","state","mutations","getters","actions","plugins","createPersistedState","storage","getItem","wx","getStorageSync","key","setItem","value","setStorageSync","removeItem","openId","v","setOpenId","commit","id","Tips","isLoading","title","duration","setTimeout","showToast","icon","mask","resolve","reject","payload","showModal","content","showCancel","success","res","confirm","cancel","fail","showLoading","hideLoading","desc","path","toast"],"mappings":"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","file":"static/js/app.js","sourcesContent":["/*\n    接口配调用文件\n    by:David 2018.6.14\n*/\nimport fly from './config'\nimport qs from 'qs'\n\nimport config from '../config'\nconst host = config.host;\nconst appKey = config.appKey;\nconst appid = config.appid;\n\n/**\n * 接口模版====post\n *\n * export const test = params => {return fly.post(`${root}/xx/xx`, qs.stringify(params))};\n *\n * 接口模版====get\n *\n * export const test1 = function(){return fly.get(`${root}/api/getNewsList`)}\n *\n *\n * 用法：\n * 在 页面用引入 test\n * import {test} from '../../http/api.js'\n *\n * test(params).then(res=>{ console.log(res) })\n */\n\n// export const test = params => {\n//     return fly.post(`${host}/xx/xx`, qs.stringify(params))\n// };\n\n// 通用的get请求\nexport const get = (params) => {\n    return fly.get(`${params.url}`, qs.stringify(params.data))\n};\n\n// 通用的post请求\nexport const post = (params) => {\n    return fly.post(`${params.url}`, qs.stringify(params.data))\n};\n// 封装的登录请求，根据后台接收方式选择是否加qs.stringify\nexport const login = params => {\n    return fly.post('/login', params)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/http/api.js","/*\n    fly配置文件\n    by:David 2018.6.14\n*/\n//引入 fly\nvar Fly = require(\"flyio/dist/npm/wx\")\nvar fly = new Fly;\nimport config from '@/config'\n//配置请求基地址\n// //定义公共headers\n// fly.config.headers={xx:5,bb:6,dd:7}\n// //设置超时\nfly.config.timeout = 20000;\n// //设置请求基地址\nfly.config.baseURL = config.host\n\n//添加请求拦截器\nfly.interceptors.request.use((request) => {\n    //给所有请求添加自定义header\n    request.headers[\"X-Tag\"] = \"flyio\";\n    //打印出请求体\n    // console.log(request.body)\n    //终止请求\n    //var err=new Error(\"xxx\")\n    //err.request=request\n    //return Promise.reject(new Error(\"\"))\n\n    //可以显式返回request, 也可以不返回，没有返回值时拦截器中默认返回request\n    return request;\n})\n\n//添加响应拦截器，响应拦截器会在then/catch处理之前执行\nfly.interceptors.response.use(\n    (response) => {\n        //只将请求结果的data字段返回\n        return response.data\n    },\n    (err) => {\n        //发生网络错误后会走到这里\n        //return Promise.resolve(\"ssss\")\n    }\n)\n// Vue.prototype.$http=fly //将fly实例挂在vue原型上\n\nexport default fly\n\n\n// WEBPACK FOOTER //\n// ./src/http/config.js","// 方便书写和检测\nexport const SET_OPEN_ID = 'SET_OPEN_ID';\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import Vue from 'vue'\nimport App from './App'\nimport store from './store/index'\nimport Tips from './common/js/tips'\nimport MpvueRouterPatch from 'mpvue-router-patch' // 兼容vue-router写法\n\nVue.use(MpvueRouterPatch)\n\nVue.config.productionTip = false\nApp.mpType = 'app'\n\nVue.prototype.$store = store;\nVue.prototype.$tips = Tips; // 全局注册Tips\n\nconst app = new Vue(App)\napp.$mount()\n\nexport default {\n    // 这个字段走 app.json\n    config: {\n        // 页面前带有 ^ 符号的，会被编译成首页，其他页面可以选填，我们会自动把 webpack entry 里面的入口页面加进去\n        pages: ['^pages/index/main', 'pages/me/main','pages/hello/main' ],\n        window: {\n            backgroundTextStyle: 'light',\n            navigationBarBackgroundColor: '#ea5149',\n            navigationBarTitleText: 'WeChat',\n            navigationBarTextStyle: 'black'\n        },\n        tabBar: {\n            selectedColor: '#000',\n            list: [\n            {\n                pagePath: 'pages/index/main',\n                text: '主页',\n                iconPath: 'static/img/pkq.png',\n                selectedIconPath: 'static/img/pkq-active.png'\n            },\n            {\n                pagePath: 'pages/me/main',\n                text: '个人',\n                iconPath: 'static/img/jlq.png',\n                selectedIconPath: 'static/img/jlq-active.png'\n            }]\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b87327d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/mpvue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4b87327d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4b87327d\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 46\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b87327d\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 47\n// module chunks = 1","<script>\n    import { login } from '@/http/api'\n    import { mapState, mapMutations } from 'vuex'\n    import { SET_OPEN_ID } from './store/mutation-types'\n    const App = getApp();\n    export default {\n        data: {\n            globalData: {}\n        },\n        computed: {\n            ...mapState([\n                'openId'\n            ])\n        },\n        methods: {\n            ...mapMutations({\n                setOpenId: 'SET_OPEN_ID'\n            }),\n            // 使用了async+await的语法，用同步的方式写异步脚本\n            async login(code) {\n                let _this = this;\n                try {\n                    const resData = await login({ code: code });\n                    if (resData.returnCode == 200) {\n                        _this.setOpenId(resData.data.accountId)\n                    }\n                } catch (err) {\n                    console.error(err);\n                }\n\n            },\n            // 拆分wx.login，结构更清晰\n            _login() {\n                let _this = this;\n                wx.login({\n                    success(res) {\n                        if (res.code) {\n                            console.log('wx.login成功,code:', res.code);\n                            let code = res.code;\n                            _this.login(code)\n                        } else {\n                            _this.$tips.toast('微信登录失败')\n                        }\n                    }\n                });\n            }\n        },\n        onLaunch() {\n            this._login()\n        }\n    }\n</script>\n\n<style>\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue?7745b138","// 配置\nconst host = 'https://www.xxx.com' // 生产\nconst appid = '';\nconst appKey = '';\n\nconst config = {\n    host,\n    appid,\n    appKey,\n}\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\n\nimport state from './state'\nimport mutations from './mutations'\nimport actions from './actions'\nimport getters from './getters'\n\nVue.use(Vuex)\n\n// 引入vuex-persistedstate，将vuex的数据持久化到本地\nexport default new Vuex.Store({\n    state,\n    mutations,\n    getters,\n    actions,\n    plugins: [\n        createPersistedState({\n            storage: {\n                getItem: key => wx.getStorageSync(key),\n                setItem: (key, value) => wx.setStorageSync(key, value),\n                removeItem: key => {}\n            }\n        })\n    ]\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","//store为实例化生成的\nconst state = {\n    openId:'初始openId'\n}\n\nexport default state;\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutation-types'\n\nconst mutations = {\n    // [方法名](参数1,参数2...){方法}\n    [types.SET_OPEN_ID](state, v) {\n        state.openId = v\n    },\n}\n\nexport default mutations;\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import * as types from './mutation-types'\n// 进行涉及到多个全局变量的复杂计算\n\n// export const setOpenId = ({ commit }, { id }) => {\n//     commit(types.OPEN_ID, id)\n// }\nexport default {\n    setOpenId: ({ commit }, { id }) => commit(openId, id)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","// 用gettter取数据到组件里,是数据的映射\n\n// // getter可充当计算属性\n// export const currentSong = (state) => {\n//     return state.playlist[state.currentIndex] || {}\n// }\nexport default {\n    openId: state => state.openId\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","/**\n * 提示与加载工具类\n */\nexport default class Tips {\n    constructor() {\n        this.isLoading = false;\n    }\n    /**\n     * 弹出提示框\n     */\n\n    static success(title, duration = 500) {\n        setTimeout(() => {\n            wx.showToast({\n                title: title,\n                icon: \"success\",\n                mask: true,\n                duration: duration\n            });\n        }, 300);\n        if (duration > 0) {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    resolve();\n                }, duration);\n            });\n        }\n    }\n\n    /**\n     * 弹出确认窗口\n     */\n    static confirm(text,title = \"提示\", payload = {}, ) {\n        return new Promise((resolve, reject) => {\n            wx.showModal({\n                title: title,\n                content: text,\n                showCancel: true,\n                success: res => {\n                    if (res.confirm) {\n                        resolve(payload);\n                    } else if (res.cancel) {\n                        reject(payload);\n                    }\n                },\n                fail: res => {\n                    reject(payload);\n                }\n            });\n        });\n    }\n\n     /**\n     * 普通提示窗口\n     * icon有效值：success / loading / none\n     */\n    static toast(title, icon = \"success\") {\n        setTimeout(() => {\n            wx.showToast({\n                title: title,\n                icon: icon,\n                mask: true,\n                duration: 500\n            });\n        }, 300);\n    }\n\n\n    /**\n     * 弹出加载提示\n     */\n    static loading(title = \"加载中\") {\n        if (Tips.isLoading) {\n            return;\n        }\n        Tips.isLoading = true;\n        wx.showLoading({\n            title: title,\n            mask: true\n        });\n    }\n\n    /**\n     * 加载完毕\n     */\n    static loaded() {\n        if (Tips.isLoading) {\n            Tips.isLoading = false;\n            wx.hideLoading();\n        }\n    }\n\n    static share(title, url, desc) {\n        return {\n            title: title,\n            path: url,\n            desc: desc,\n            success: function (res) {\n                Tips.toast(\"分享成功\");\n            }\n        };\n    }\n\n    static alert(text,title = \"提示\", payload = {}, ) {\n        return new Promise((resolve, reject) => {\n            wx.showModal({\n                title: title,\n                content: text,\n                showCancel: false,\n                success: res => {\n                    if (res.confirm) {\n                        resolve(payload);\n                    }\n                },\n                fail: res => {\n                    reject(payload);\n                }\n            });\n        });\n    }\n}\n\n/**\n * 静态变量，是否加载中\n */\nTips.isLoading = false;\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/tips.js"],"sourceRoot":""}
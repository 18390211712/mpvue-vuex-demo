{"version":3,"sources":["webpack:///./src/store/mutation-types.js","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?cda2","webpack:///src/App.vue","webpack:///./src/config.js","webpack:///./src/store/index.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/common/js/tips.js"],"names":["SET_OPEN_ID","Vue","config","productionTip","App","mpType","prototype","$store","$tips","app","$mount","pages","window","backgroundTextStyle","navigationBarBackgroundColor","navigationBarTitleText","navigationBarTextStyle","tabBar","selectedColor","list","pagePath","text","iconPath","selectedIconPath","host","appid","appKey","use","Vuex","Store","state","mutations","getters","actions","plugins","createPersistedState","storage","getItem","wx","getStorageSync","key","setItem","value","setStorageSync","removeItem","openId","v","setOpenId","commit","id","Tips","isLoading","title","duration","setTimeout","showToast","icon","mask","resolve","reject","payload","showModal","content","showCancel","success","res","confirm","cancel","fail","showLoading","hideLoading","url","desc","path","toast"],"mappings":"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","file":"static/js/app.js","sourcesContent":["// 方便书写和检测\nexport const SET_OPEN_ID = 'SET_OPEN_ID';\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import Vue from 'vue'\nimport App from './App'\nimport store from './store/index'\nimport Tips from './common/js/tips'\n\nVue.config.productionTip = false\nApp.mpType = 'app'\n\nVue.prototype.$store = store;\nVue.prototype.$tips = Tips;\n\nconst app = new Vue(App)\napp.$mount()\n\nexport default {\n    // 这个字段走 app.json\n    config: {\n        // 页面前带有 ^ 符号的，会被编译成首页，其他页面可以选填，我们会自动把 webpack entry 里面的入口页面加进去\n        pages: ['^pages/index/main','pages/all/main','pages/shopCar/main','pages/me/main'],\n        window: {\n            backgroundTextStyle: 'light',\n            navigationBarBackgroundColor: '#ea5149',\n            navigationBarTitleText: 'WeChat',\n            navigationBarTextStyle: 'black'\n        },\n        tabBar: {\n            selectedColor: '#EA5149',\n            list: [\n                {\n                    pagePath: 'pages/index/main',\n                    text: '精选',\n                    iconPath: 'static/img/me.png',\n                    selectedIconPath: 'static/img/me-active.png'\n                },\n                {\n                    pagePath: 'pages/all/main',\n                    text: '全部商品',\n                    iconPath: 'static/img/me.png',\n                    selectedIconPath: 'static/img/me-active.png'\n                }, {\n                    pagePath: 'pages/shopCar/main',\n                    text: '购物车',\n                    iconPath: 'static/img/me.png',\n                    selectedIconPath: 'static/img/me-active.png'\n                }, {\n                    pagePath: 'pages/me/main',\n                    text: '个人中心',\n                    iconPath: 'static/img/me.png',\n                    selectedIconPath: 'static/img/me-active.png'\n                }\n            ]\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b87327d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/mpvue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4b87327d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4b87327d\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 45\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b87327d\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 46\n// module chunks = 1","<script>\n    import config from './config'\n    import { mapState, mapMutations } from 'vuex'\n    import { SET_OPEN_ID } from './store/mutation-types'\n    const App = getApp();\n    export default {\n        data: {\n            globalData: {\n                loginUrl: 'https://xxx.com/mini/login'\n            }\n        },\n        computed: {\n            ...mapState([\n                'openId'\n            ])\n        },\n        methods: {\n            ...mapMutations({\n                setOpenId: 'SET_OPEN_ID'\n            }),\n            login() {\n                let _this = this;\n                wx.login({\n                    success: function (res) {\n                        console.log('wx.login成功res', res);\n                        if (res.code) {\n                            let code = res.code;\n                            // 登录后台，获取openId\n                            wx.request({\n                                url: _this.globalData.loginUrl,\n                                method: 'GET',\n                                data: {\n                                    appid: config.appid,\n                                    code: code,\n                                    appKey: config.appKey\n                                },\n                                success: function (res) {\n                                    // if (res.data.code === 200) {\n                                    //     _this.setOpenId(res.data.data.openId);\n                                    // } else {\n                                    //     wx.showModal({\n                                    //         title: '提示',\n                                    //         content: res.data.message,\n                                    //         showCancel: false\n                                    //     })\n                                    // }\n                                    _this.setOpenId('openId')\n                                    console.log('假装设置openId',_this.openId);\n                                },\n                                fail: err => {\n                                    wx.showToast({\n                                        title: err\n                                    })\n                                }\n                            })\n                        } else {\n                            console.log('获取用户登录态失败！' + res.errMsg)\n                        }\n                    },\n                    fail: err => {\n\n                    }\n                });\n            }\n        },\n        created() {\n            this.login()\n        }\n    }\n</script>\n\n<style>\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue?9071c51c","// 配置\nconst host = 'https://www.xxx.com' // 生产\nconst appid = '';\nconst appKey = '';\n\nconst config = {\n    host,\n    appid,\n    appKey,\n}\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\n\nimport state from './state'\nimport mutations from './mutations'\nimport actions from './actions'\nimport getters from './getters'\n\nVue.use(Vuex)\n\n// 引入vuex-persistedstate，将vuex的数据持久化到本地\nexport default new Vuex.Store({\n    state,\n    mutations,\n    getters,\n    actions,\n    plugins: [\n        createPersistedState({\n            storage: {\n                getItem: key => wx.getStorageSync(key),\n                setItem: (key, value) => wx.setStorageSync(key, value),\n                removeItem: key => {}\n            }\n        })\n    ]\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","//store为实例化生成的\nconst state = {\n    openId:'初始openId'\n}\n\nexport default state;\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutation-types'\n\nconst mutations = {\n    // [方法名](参数1,参数2...){方法}\n    [types.SET_OPEN_ID](state, v) {\n        state.openId = v\n    },\n}\n\nexport default mutations;\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import * as types from './mutation-types'\n// 进行涉及到多个全局变量的复杂计算\n\n// export const setOpenId = ({ commit }, { id }) => {\n//     commit(types.OPEN_ID, id)\n// }\nexport default {\n    setOpenId: ({ commit }, { id }) => commit(openId, id)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","// 用gettter取数据到组件里,是数据的映射\n\n// // getter可充当计算属性\n// export const currentSong = (state) => {\n//     return state.playlist[state.currentIndex] || {}\n// }\nexport default {\n    openId: state => state.openId\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","/**\n * 提示与加载工具类\n */\nexport default class Tips {\n    constructor() {\n        this.isLoading = false;\n    }\n    /**\n     * 弹出提示框\n     */\n\n    static success(title, duration = 500) {\n        setTimeout(() => {\n            wx.showToast({\n                title: title,\n                icon: \"success\",\n                mask: true,\n                duration: duration\n            });\n        }, 300);\n        if (duration > 0) {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    resolve();\n                }, duration);\n            });\n        }\n    }\n\n    /**\n     * 弹出确认窗口\n     */\n    static confirm(text,title = \"提示\", payload = {}, ) {\n        return new Promise((resolve, reject) => {\n            wx.showModal({\n                title: title,\n                content: text,\n                showCancel: true,\n                success: res => {\n                    if (res.confirm) {\n                        resolve(payload);\n                    } else if (res.cancel) {\n                        reject(payload);\n                    }\n                },\n                fail: res => {\n                    reject(payload);\n                }\n            });\n        });\n    }\n\n     /**\n     * 普通提示窗口\n     * icon有效值：success / loading / none\n     */\n    static toast(title, icon = \"success\") {\n        setTimeout(() => {\n            wx.showToast({\n                title: title,\n                icon: icon,\n                mask: true,\n                duration: 500\n            });\n        }, 300);\n    }\n\n\n    /**\n     * 弹出加载提示\n     */\n    static loading(title = \"加载中\") {\n        if (Tips.isLoading) {\n            return;\n        }\n        Tips.isLoading = true;\n        wx.showLoading({\n            title: title,\n            mask: true\n        });\n    }\n\n    /**\n     * 加载完毕\n     */\n    static loaded() {\n        if (Tips.isLoading) {\n            Tips.isLoading = false;\n            wx.hideLoading();\n        }\n    }\n\n    static share(title, url, desc) {\n        return {\n            title: title,\n            path: url,\n            desc: desc,\n            success: function (res) {\n                Tips.toast(\"分享成功\");\n            }\n        };\n    }\n\n    static alert(text,title = \"提示\", payload = {}, ) {\n        return new Promise((resolve, reject) => {\n            wx.showModal({\n                title: title,\n                content: text,\n                showCancel: false,\n                success: res => {\n                    if (res.confirm) {\n                        resolve(payload);\n                    }\n                },\n                fail: res => {\n                    reject(payload);\n                }\n            });\n        });\n    }\n}\n\n/**\n * 静态变量，是否加载中\n */\nTips.isLoading = false;\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/tips.js"],"sourceRoot":""}